(self.webpackChunkFlox=self.webpackChunkFlox||[]).push([[517],{4353:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,a=36e5,r="millisecond",n="second",i="minute",s="hour",o="day",l="week",u="month",d="quarter",c="year",h="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}},D=function(e,t,a){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(a)+e},v={s:D,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),r=Math.floor(a/60),n=a%60;return(t<=0?"+":"-")+D(r,2,"0")+":"+D(n,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var r=12*(a.year()-t.year())+(a.month()-t.month()),n=t.clone().add(r,u),i=a-n<0,s=t.clone().add(r+(i?-1:1),u);return+(-(r+(a-n)/(i?n-s:s-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:c,w:l,d:o,D:h,h:s,m:i,s:n,ms:r,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=p;var $="$isDayjsObject",w=function(e){return e instanceof P||!(!e||!e[$])},M=function e(t,a,r){var n;if(!t)return y;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(n=i),a&&(b[i]=a,n=i);var s=t.split("-");if(!n&&s.length>1)return e(s[0])}else{var o=t.name;b[o]=t,n=o}return!r&&n&&(y=n),n||!r&&y},k=function(e,t){if(w(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new P(a)},O=v;O.l=M,O.i=w,O.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var P=function(){function p(e){this.$L=M(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[$]=!0}var D=p.prototype;return D.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(O.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(g);if(r){var n=r[2]-1||0,i=(r[7]||"0").substring(0,3);return a?new Date(Date.UTC(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},D.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},D.$utils=function(){return O},D.isValid=function(){return!(this.$d.toString()===f)},D.isSame=function(e,t){var a=k(e);return this.startOf(t)<=a&&a<=this.endOf(t)},D.isAfter=function(e,t){return k(e)<this.startOf(t)},D.isBefore=function(e,t){return this.endOf(t)<k(e)},D.$g=function(e,t,a){return O.u(e)?this[t]:this.set(a,e)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(e,t){var a=this,r=!!O.u(t)||t,d=O.p(e),f=function(e,t){var n=O.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return r?n:n.endOf(o)},g=function(e,t){return O.w(a.toDate()[e].apply(a.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},m=this.$W,p=this.$M,D=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case c:return r?f(1,0):f(31,11);case u:return r?f(1,p):f(0,p+1);case l:var y=this.$locale().weekStart||0,b=(m<y?m+7:m)-y;return f(r?D-b:D+(6-b),p);case o:case h:return g(v+"Hours",0);case s:return g(v+"Minutes",1);case i:return g(v+"Seconds",2);case n:return g(v+"Milliseconds",3);default:return this.clone()}},D.endOf=function(e){return this.startOf(e,!1)},D.$set=function(e,t){var a,l=O.p(e),d="set"+(this.$u?"UTC":""),f=(a={},a[o]=d+"Date",a[h]=d+"Date",a[u]=d+"Month",a[c]=d+"FullYear",a[s]=d+"Hours",a[i]=d+"Minutes",a[n]=d+"Seconds",a[r]=d+"Milliseconds",a)[l],g=l===o?this.$D+(t-this.$W):t;if(l===u||l===c){var m=this.clone().set(h,1);m.$d[f](g),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](g);return this.init(),this},D.set=function(e,t){return this.clone().$set(e,t)},D.get=function(e){return this[O.p(e)]()},D.add=function(r,d){var h,f=this;r=Number(r);var g=O.p(d),m=function(e){var t=k(f);return O.w(t.date(t.date()+Math.round(e*r)),f)};if(g===u)return this.set(u,this.$M+r);if(g===c)return this.set(c,this.$y+r);if(g===o)return m(1);if(g===l)return m(7);var p=(h={},h[i]=t,h[s]=a,h[n]=e,h)[g]||1,D=this.$d.getTime()+r*p;return O.w(D,this)},D.subtract=function(e,t){return this.add(-1*e,t)},D.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=O.z(this),i=this.$H,s=this.$m,o=this.$M,l=a.weekdays,u=a.months,d=a.meridiem,c=function(e,a,n,i){return e&&(e[a]||e(t,r))||n[a].slice(0,i)},h=function(e){return O.s(i%12||12,e,"0")},g=d||function(e,t,a){var r=e<12?"AM":"PM";return a?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return O.s(t.$y,4,"0");case"M":return o+1;case"MM":return O.s(o+1,2,"0");case"MMM":return c(a.monthsShort,o,u,3);case"MMMM":return c(u,o);case"D":return t.$D;case"DD":return O.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return c(a.weekdaysMin,t.$W,l,2);case"ddd":return c(a.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return O.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return g(i,s,!0);case"A":return g(i,s,!1);case"m":return String(s);case"mm":return O.s(s,2,"0");case"s":return String(t.$s);case"ss":return O.s(t.$s,2,"0");case"SSS":return O.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")}))},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(r,h,f){var g,m=this,p=O.p(h),D=k(r),v=(D.utcOffset()-this.utcOffset())*t,y=this-D,b=function(){return O.m(m,D)};switch(p){case c:g=b()/12;break;case u:g=b();break;case d:g=b()/3;break;case l:g=(y-v)/6048e5;break;case o:g=(y-v)/864e5;break;case s:g=y/a;break;case i:g=y/t;break;case n:g=y/e;break;default:g=y}return f?g:O.a(g)},D.daysInMonth=function(){return this.endOf(u).$D},D.$locale=function(){return b[this.$L]},D.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),r=M(e,t,!0);return r&&(a.$L=r),a},D.clone=function(){return O.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},p}(),S=P.prototype;return k.prototype=S,[["$ms",r],["$s",n],["$m",i],["$H",s],["$W",o],["$M",u],["$y",c],["$D",h]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,P,k),e.$i=!0),k},k.locale=M,k.isDayjs=w,k.unix=function(e){return k(1e3*e)},k.en=b[y],k.Ls=b,k.p={},k}()},7872:function(e){e.exports=function(){"use strict";return function(e,t,a){t.prototype.isBetween=function(e,t,r,n){var i=a(e),s=a(t),o="("===(n=n||"()")[0],l=")"===n[1];return(o?this.isAfter(i,r):!this.isBefore(i,r))&&(l?this.isBefore(s,r):!this.isAfter(s,r))||(o?this.isBefore(i,r):!this.isAfter(i,r))&&(l?this.isAfter(s,r):!this.isBefore(s,r))}}}()},9173:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ne});var r=a(641),n=a(3751),i={class:"calendar-main no-select"},s={key:0,class:"wrap-content calendar-wrap"},o={key:0,class:"loader fullsize-loader"},l=[(0,r.Lk)("i",null,null,-1)];var u=a(4980),d=a(953),c=a(33),h=Object.defineProperty,f=(e,t,a)=>(((e,t,a)=>{t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a})(e,"symbol"!=typeof t?t+"":t,a),a);const g=()=>O(new Date),m=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+t,e.getHours(),e.getMinutes(),e.getSeconds()),p=(e,t)=>m(e,(t-e.getDay()-7)%-7),D=e=>new Date(e.getFullYear(),e.getMonth()),v=e=>("0"+String(e.getMonth()+1)).slice(-2),y=e=>("0"+String(e.getDate())).slice(-2),b=e=>e.getFullYear()+"-"+v(e),$=(e,t)=>(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5,w=(e,t)=>!!e&&!!t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth(),M=e=>{let t=[...Array(7)].map((e=>0));return e.split(/\D/,7).forEach(((e,a)=>t[a]=Number(e))),t[1]--,new Date(t[0],t[1],t[2],t[3],t[4],t[5],t[6])},k=e=>"string"==typeof e?M(e):new Date(e),O=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},P=()=>typeof Intl<"u",S={addDays:m,beginningOfMonth:D,beginningOfPeriod:(e,t,a)=>{switch(t){case"year":return new Date(e.getFullYear(),0);case"month":return new Date(e.getFullYear(),e.getMonth());case"week":return p(e,a);default:return e}},beginningOfWeek:p,dateOnly:O,dayDiff:$,daysOfWeek:e=>[...Array(7)].map(((t,a)=>m(e,a))),endOfWeek:(e,t)=>m(p(e,t),7),formattedPeriod:(e,t,a,r)=>{const n=e.getFullYear()===t.getFullYear(),i=w(e,t),s=!("year"===a||"month"===a);let o=[];return o.push(r[e.getMonth()]),s&&(o.push(" "),o.push(e.getDate())),n||(o.push(s?", ":" "),o.push(e.getFullYear())),i&&n?s&&o.push(" – "):(o.push(" – "),i||o.push(r[t.getMonth()]),s&&o.push(" ")),s?(o.push(t.getDate()),o.push(", ")):o.push(" "),o.push(t.getFullYear()),o.join("")},formattedTime:(e,t,a)=>{if(0===e.getHours()&&0===e.getMinutes()&&0===e.getSeconds())return"";if(!P()){var r=6e4*(new Date).getTimezoneOffset();return new Date(e.getTime()-r).toISOString().slice(11,16)}return e.toLocaleTimeString(t,a)},fromIsoStringToLocalDate:M,getDefaultBrowserLocale:()=>typeof navigator>"u"?"unk":(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language).toLowerCase(),getFormattedMonthNames:(e,t)=>{if(!P())return[...Array(12)].map((e=>""));const a=new Intl.DateTimeFormat(e,{month:t});return[...Array(12)].map(((e,t)=>a.format(new Date(2017,t,1))))},getFormattedWeekdayNames:(e,t,a)=>{if(!P())return[...Array(7)].map((e=>""));const r=new Intl.DateTimeFormat(e,{weekday:t});return[...Array(7)].map(((e,t)=>r.format(new Date(2017,0,(t+1+a)%7))))},incrementPeriod:(e,t,a)=>new Date(e.getFullYear()+("year"==t?a:0),e.getMonth()+("month"==t?a:0),e.getDate()+("week"==t?7*a:0)),instanceOfMonth:e=>Math.ceil(e.getDate()/7),isFutureMonth:e=>D(e)>D(g()),isInFuture:e=>O(e)>g(),isInPast:e=>O(e)<g(),isLastDayOfMonth:e=>e.getMonth()!==m(e,1).getMonth(),isLastInstanceOfMonth:e=>e.getMonth()!==m(e,7).getMonth(),isoMonthDay:e=>v(e)+"-"+y(e),isoYearMonth:b,isoYearMonthDay:e=>b(e)+"-"+y(e),isPastMonth:e=>D(e)<D(g()),isSameDate:(e,t)=>!!e&&!!t&&0===$(e,t),isSameDateTime:(e,t)=>!!e&&!!t&&e.getTime()===t.getTime(),isSameMonth:w,languageCode:e=>e.substring(0,2),normalizeItem:(e,t)=>{const a=e.classes?[...e.classes]:[];return t&&a.push("isHovered"),{originalItem:e,startDate:k(e.startDate),endDate:k(e.endDate||e.startDate),classes:a,title:e.title||"Untitled",id:e.id,url:e.url,tooltip:e.tooltip??e.title}},paddedDay:y,paddedMonth:v,supportsIntl:P,today:g,toLocalDate:k};class C{constructor(){f(this,"currentDragItem"),f(this,"dateSelectionOrigin"),f(this,"currentHoveredItemId",""),f(this,"CalendarMath",S)}}const I={class:"cv-header-days"},L={key:0,class:"cv-weeknumber"},E=["aria-multiselectable"],F={key:0,class:"cv-weeknumber"},Y={class:"cv-weekdays"},A=["draggable","aria-grabbed","aria-label","aria-selected","aria-dropeffect","onClick","onDragstart","onDrop","onDragover","onDragenter","onDragleave"],T={class:"cv-day-number"},W={key:0,class:"cv-fom-name"},_=["draggable","aria-grabbed","title","onDragstart","onMouseenter","onMouseleave","onClick","innerHTML"],x=["draggable","aria-grabbed","title","onDragstart","onMouseenter","onMouseleave","onClick"],H=(0,r.pM)({__name:"CalendarView",props:{showDate:{default:void 0},displayPeriodUom:{default:"month"},displayPeriodCount:{default:1},displayWeekNumbers:{type:Boolean,default:!1},locale:{default:void 0},monthNameFormat:{default:"long"},weekdayNameFormat:{default:"short"},showTimes:{type:Boolean,default:!1},timeFormatOptions:{default:()=>({})},disablePast:{type:Boolean,default:!1},disableFuture:{type:Boolean,default:!1},enableDateSelection:{type:Boolean,default:!1},selectionStart:{default:void 0},selectionEnd:{default:void 0},enableDragDrop:{type:Boolean,default:!1},startingDayOfWeek:{default:0},items:{default:()=>[]},dateClasses:{default:()=>({})},itemTop:{default:"1.4em"},itemContentHeight:{default:"1.4em"},itemBorderHeight:{default:"2px"},periodChangedCallback:{type:Function,default:void 0},currentPeriodLabel:{default:""},currentPeriodLabelIcons:{default:"⇤-⇥"},doEmitItemMouseEvents:{type:Boolean,default:!1},enableHtmlTitles:{type:Boolean,default:!0},monthNameOn1st:{type:Boolean,default:!0}},emits:["period-changed","click-date","click-item","item-mouseenter","item-mouseleave","drag-start","drag-over-date","drag-enter-date","drag-leave-date","drop-on-date","date-selection","date-selection-start","date-selection-finish"],setup(e,{emit:t}){const a=e,i=t,s=(0,d.Kh)(new C),o=(0,r.EW)((()=>a.locale||S.getDefaultBrowserLocale())),l=(0,r.EW)((()=>a.showDate?S.dateOnly(a.showDate):S.today())),u=(0,r.EW)((()=>S.beginningOfPeriod(l.value,a.displayPeriodUom,a.startingDayOfWeek))),h=(0,r.EW)((()=>S.addDays(S.incrementPeriod(u.value,a.displayPeriodUom,a.displayPeriodCount),-1))),f=(0,r.EW)((()=>{const e=new Date(u.value.getFullYear(),0,1),t=S.addDays(e,(11-e.getDay())%7),r=S.beginningOfPeriod(t,"week",a.startingDayOfWeek),n=S.beginningOfWeek(u.value,a.startingDayOfWeek);return 1+Math.floor(S.dayDiff(r,n)/7)})),g=(0,r.EW)((()=>S.beginningOfWeek(u.value,a.startingDayOfWeek))),m=(0,r.EW)((()=>S.endOfWeek(h.value,a.startingDayOfWeek))),p=(0,r.EW)((()=>{const e=Math.floor((S.dayDiff(g.value,m.value)+1)/7);return[...Array(e)].map(((e,t)=>S.addDays(g.value,7*t)))})),D=(0,r.EW)((()=>S.getFormattedMonthNames(o.value,a.monthNameFormat))),v=(0,r.EW)((()=>S.getFormattedWeekdayNames(o.value,a.weekdayNameFormat,a.startingDayOfWeek))),y=(0,r.EW)((()=>a.items?a.items.map((e=>S.normalizeItem(e,e.id===s.currentHoveredItemId))):[])),b=(0,r.EW)((()=>S.beginningOfPeriod(S.today(),a.displayPeriodUom,a.startingDayOfWeek))),$=(0,r.EW)((()=>S.addDays(S.incrementPeriod(b.value,a.displayPeriodUom,a.displayPeriodCount),-1))),w=(0,r.EW)((()=>S.formattedPeriod(u.value,h.value,a.displayPeriodUom,D.value))),M=(0,r.EW)((()=>{const e=b.value,t=u.value;return a.currentPeriodLabel?"icons"===a.currentPeriodLabel?a.currentPeriodLabelIcons[Math.sign(e.getTime()-t.getTime())+1]:a.currentPeriodLabel:S.formattedPeriod(e,$.value,a.displayPeriodUom,D.value)})),k=(0,r.EW)((()=>a.monthNameOn1st&&("month"!==a.displayPeriodUom||a.displayPeriodCount>1))),O=e=>k.value&&1==e.getDate()?D.value[e.getMonth()]:"",P=(0,r.EW)((()=>({previousYear:N(-12),previousPeriod:N(-1),nextPeriod:N(1),previousFullPeriod:N(-a.displayPeriodCount),nextFullPeriod:N(a.displayPeriodCount),nextYear:N(12),currentPeriod:b.value,currentPeriodLabel:M.value,periodStart:u.value,periodEnd:h.value,displayLocale:o.value,displayFirstDate:g.value,displayLastDate:m.value,monthNames:D.value,fixedItems:y.value,periodLabel:w.value}))),H=(0,r.EW)((()=>({periodStart:u,periodEnd:h,displayFirstDate:g,displayLastDate:m})));(0,r.wB)((()=>H),(e=>{a.periodChangedCallback&&(i("period-changed"),a.periodChangedCallback(e,"watch"))}),{immediate:!0,deep:!0});const R=(e,t)=>i("click-item",e,t),B=e=>"dow"+(e+a.startingDayOfWeek)%7,N=e=>{const t=S.incrementPeriod(u.value,a.displayPeriodUom,e),r=S.incrementPeriod(t,a.displayPeriodUom,a.displayPeriodCount);return a.disablePast&&r<=S.today()||a.disableFuture&&t>S.today()?null:t},j=(e,t)=>{s.currentHoveredItemId=e.id,a.doEmitItemMouseEvents&&i("item-mouseenter",e,t)},U=(e,t)=>{s.currentHoveredItemId="",a.doEmitItemMouseEvents&&i("item-mouseleave",e,t)},X=(e,t)=>{var r;return!!a.enableDragDrop&&(null==(r=t.dataTransfer)||r.setData("text",e.id),s.currentDragItem=e,s.dateSelectionOrigin=void 0,i("drag-start",e,t),!0)},V=e=>e<=s.dateSelectionOrigin?[e,s.dateSelectionOrigin]:[s.dateSelectionOrigin,e],G=(e,t)=>e.startDate<t.startDate?-1:t.startDate<e.startDate?1:e.endDate>t.endDate?-1:t.endDate>e.endDate?1:e.id<t.id?-1:1,K=(e,t)=>y.value.filter((a=>a.endDate>=e&&S.dateOnly(a.startDate)<=t),this).sort(G),z=e=>!!y.value.find((t=>t.endDate>=e&&S.dateOnly(t.startDate)<=e)),Q=e=>!(!a.selectionStart||!a.selectionEnd||e<S.dateOnly(a.selectionStart)||e>S.dateOnly(a.selectionEnd)),q=e=>{const t=(e=>K(e,S.addDays(e,6)))(e),a=[],r=[[],[],[],[],[],[],[]];if(!t)return a;for(let n=0;n<t.length;n++){const i=Object.assign({},t[n],{classes:[...t[n].classes],itemRow:0}),s=i.startDate<e,o=s?0:S.dayDiff(e,i.startDate),l=Math.max(1,Math.min(7-o,S.dayDiff(S.addDays(e,o),i.endDate)+1));s&&i.classes.push("continued"),S.dayDiff(e,i.endDate)>6&&i.classes.push("toBeContinued"),S.isInPast(i.endDate)&&i.classes.push("past"),i.originalItem.url&&i.classes.push("hasUrl");for(let e=0;e<7;e++)if(e===o){let t=0;for(;r[e][t];)t++;i.itemRow=t,r[e][t]=!0}else e<o+l&&(r[e][i.itemRow]=!0);i.classes.push(`offset${o}`),i.classes.push(`span${l}`),a.push(i)}return a},J=e=>a.showTimes?(e=>{const t='<span class="startTime">'+S.formattedTime(e.startDate,o.value,a.timeFormatOptions)+"</span>";let r="";return S.isSameDateTime(e.startDate,e.endDate)||(r='<span class="endTime">'+S.formattedTime(e.endDate,o.value,a.timeFormatOptions)+"</span>"),t+r})(e)+" "+e.title:e.title,Z=e=>{const t=e.itemRow,r=a.itemContentHeight,n=a.itemBorderHeight;return`calc(${a.itemTop} + ${t}*${r} + ${t}*${n})`};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{"aria-label":"Calendar",class:(0,c.C4)(["cv-wrapper",`locale-${(0,d.R1)(S).languageCode(o.value)}`,`locale-${o.value}`,`y${u.value.getFullYear()}`,`m${(0,d.R1)(S).paddedMonth(u.value)}`,`period-${e.displayPeriodUom}`,`periodCount-${e.displayPeriodCount}`,{past:(0,d.R1)(S).isPastMonth(u.value),future:(0,d.R1)(S).isFutureMonth(u.value),noIntl:!(0,d.R1)(S).supportsIntl}])},[(0,r.RG)(e.$slots,"header",{headerProps:P.value}),(0,r.Lk)("div",I,[e.displayWeekNumbers?((0,r.uX)(),(0,r.CE)("div",L)):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(v.value,((t,a)=>(0,r.RG)(e.$slots,"day-header",{index:B(a),label:t},(()=>[((0,r.uX)(),(0,r.CE)("div",{key:B(a),class:(0,c.C4)([B(a),"cv-header-day"])},(0,c.v_)(t),3))])))),256))]),(0,r.Lk)("div",{"aria-multiselectable":e.enableDateSelection,class:"cv-weeks"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(p.value,((t,o)=>((0,r.uX)(),(0,r.CE)("div",{key:`${o}-week`,class:(0,c.C4)(["cv-week",`week${o+1}`,`ws${(0,d.R1)(S).isoYearMonthDay(t)}`])},[e.displayWeekNumbers?((0,r.uX)(),(0,r.CE)("div",F,[(0,r.RG)(e.$slots,"week-number",{date:t,numberInYear:f.value+o,numberInPeriod:o+1},(()=>[(0,r.Lk)("span",null,(0,c.v_)(f.value+o),1)]))])):(0,r.Q3)("",!0),(0,r.Lk)("div",Y,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,d.R1)(S).daysOfWeek(t),((t,o)=>((0,r.uX)(),(0,r.CE)("div",{key:B(o),draggable:e.enableDateSelection,class:(0,c.C4)(["cv-day",B(o),`d${(0,d.R1)(S).isoYearMonthDay(t)}`,`d${(0,d.R1)(S).isoMonthDay(t)}`,`d${(0,d.R1)(S).paddedDay(t)}`,`instance${(0,d.R1)(S).instanceOfMonth(t)}`,{today:(0,d.R1)(S).isSameDate(t,(0,d.R1)(S).today()),outsideOfMonth:!(0,d.R1)(S).isSameMonth(t,l.value),past:(0,d.R1)(S).isInPast(t),future:(0,d.R1)(S).isInFuture(t),last:(0,d.R1)(S).isLastDayOfMonth(t),lastInstance:(0,d.R1)(S).isLastInstanceOfMonth(t),hasItems:z(t),selectionStart:(0,d.R1)(S).isSameDate(t,e.selectionStart),selectionEnd:(0,d.R1)(S).isSameDate(t,e.selectionEnd)},...e.dateClasses&&e.dateClasses[(0,d.R1)(S).isoYearMonthDay(t)]||[]]),"aria-grabbed":e.enableDateSelection?Q(t):void 0,"aria-label":t.getDate().toString(),"aria-selected":Q(t),"aria-dropeffect":e.enableDragDrop&&s.currentDragItem?"move":e.enableDateSelection&&s.dateSelectionOrigin?"execute":"none",onClick:e=>((e,t)=>{a.disablePast&&S.isInPast(e)||a.disableFuture&&S.isInFuture(e)||i("click-date",e,K(e,e),t)})(t,e),onDragstart:e=>((e,t)=>{var r,n;if(!a.enableDateSelection)return!1;null==(r=t.dataTransfer)||r.setData("text",e.toString());let o=new Image;return o.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",null==(n=t.dataTransfer)||n.setDragImage(o,10,10),s.dateSelectionOrigin=e,i("date-selection-start",V(e),t),!0})(t,e),onDrop:(0,n.D$)((e=>((e,t)=>{a.enableDateSelection&&s.dateSelectionOrigin?i("date-selection-finish",V(e),t):a.enableDragDrop&&(i("drop-on-date",s.currentDragItem,e,t),t.target.classList.remove("draghover"))})(t,e)),["prevent"]),onDragover:(0,n.D$)((e=>((e,t)=>{a.enableDragDrop&&i("drag-over-date",s.currentDragItem,e,t)})(t,e)),["prevent"]),onDragenter:(0,n.D$)((e=>((e,t)=>{a.enableDateSelection&&s.dateSelectionOrigin&&i("date-selection",V(e),t),a.enableDragDrop&&(i("drag-enter-date",s.currentDragItem,e,t),t.target.classList.add("draghover"))})(t,e)),["prevent"]),onDragleave:(0,n.D$)((e=>((e,t)=>{a.enableDateSelection&&a.selectionStart||!a.enableDragDrop||(i("drag-leave-date",s.currentDragItem,e,t),t.target.classList.remove("draghover"))})(t,e)),["prevent"])},[(0,r.Lk)("div",T,[O(t)?((0,r.uX)(),(0,r.CE)("span",W,(0,c.v_)(O(t)),1)):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,c.v_)(t.getDate()),1)]),(0,r.RG)(e.$slots,"day-content",{day:t})],42,A)))),128)),a.enableHtmlTitles?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(q(t),(a=>(0,r.RG)(e.$slots,"item",{value:a,weekStartDate:t,top:Z(a)},(()=>[((0,r.uX)(),(0,r.CE)("div",{key:a.id,draggable:e.enableDragDrop,"aria-grabbed":e.enableDragDrop?a==s.currentDragItem:void 0,class:(0,c.C4)([a.classes,"cv-item"]),title:a.tooltip||a.title,style:(0,c.Tr)(`top:${Z(a)};${a.originalItem.style}`),onDragstart:e=>X(a,e),onMouseenter:e=>j(a,e),onMouseleave:e=>U(a,e),onClick:(0,n.D$)((e=>R(a,e)),["stop"]),innerHTML:J(a)},null,46,_))])))),256)):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)(q(t),(a=>(0,r.RG)(e.$slots,"item",{value:a,weekStartDate:t,top:Z(a)},(()=>[((0,r.uX)(),(0,r.CE)("div",{key:a.id,draggable:e.enableDragDrop,"aria-grabbed":e.enableDragDrop?a==s.currentDragItem:void 0,class:(0,c.C4)([a.classes,"cv-item"]),title:a.tooltip||a.title,style:(0,c.Tr)(`top:${Z(a)};${a.originalItem.style}`),onDragstart:e=>X(a,e),onMouseenter:e=>j(a,e),onMouseleave:e=>U(a,e),onClick:(0,n.D$)((e=>R(a,e)),["stop"])},(0,c.v_)(J(a)),47,x)),(0,r.eW)(" div> ")])))),256))])],2)))),128))],8,E)],2))}}),R={class:"cv-header"},B={class:"cv-header-nav"},N=["disabled"],j=["disabled","innerHTML"],U=["disabled"],X=["disabled"],V={class:"periodLabel"},G=(0,r.pM)({__name:"CalendarViewHeader",props:{headerProps:{type:Object,required:!0},previousYearLabel:{type:String,default:"<<"},previousPeriodLabel:{type:String,default:"<"},nextPeriodLabel:{type:String,default:">"},nextYearLabel:{type:String,default:">>"}},emits:["input"],setup(e,{emit:t}){const a=t,i=e=>a("input",e);return(t,a)=>((0,r.uX)(),(0,r.CE)("div",R,[(0,r.Lk)("div",B,[(0,r.Lk)("button",{disabled:!e.headerProps.previousYear,class:"previousYear","aria-label":"Previous Year",onClick:a[0]||(a[0]=(0,n.D$)((t=>i(e.headerProps.previousYear)),["prevent"]))},(0,c.v_)(e.previousYearLabel),9,N),(0,r.Lk)("button",{disabled:!e.headerProps.previousPeriod,class:"previousPeriod","aria-label":"Previous Period",onClick:a[1]||(a[1]=(0,n.D$)((t=>i(e.headerProps.previousPeriod)),["prevent"])),innerHTML:e.previousPeriodLabel},null,8,j),(0,r.Lk)("button",{class:"currentPeriod","aria-label":"Current Period",onClick:a[2]||(a[2]=(0,n.D$)((t=>i(e.headerProps.currentPeriod)),["prevent"]))},(0,c.v_)(e.headerProps.currentPeriodLabel),1),(0,r.Lk)("button",{disabled:!e.headerProps.nextPeriod,class:"nextPeriod","aria-label":"Next Period",onClick:a[3]||(a[3]=(0,n.D$)((t=>i(e.headerProps.nextPeriod)),["prevent"]))},(0,c.v_)(e.nextPeriodLabel),9,U),(0,r.Lk)("button",{disabled:!e.headerProps.nextYear,class:"nextYear","aria-label":"Next Year",onClick:a[4]||(a[4]=(0,n.D$)((t=>i(e.headerProps.nextYear)),["prevent"]))},(0,c.v_)(e.nextYearLabel),9,X)]),(0,r.Lk)("div",V,[(0,r.RG)(t.$slots,"label",{},(()=>[(0,r.eW)((0,c.v_)(e.headerProps.periodLabel),1)]))])]))}});var K=a(7536),z=a(7872),Q=a.n(z),q=a(4353),J=a.n(q),Z=a(834),ee=a(2028);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){(0,u.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}J().extend(Q());const re={mixins:[ee.A],data:function(){return{showDate:new Date,items:[],filteredItems:[]}},computed:ae(ae({},(0,Z.aH)({loading:function(e){return e.loading}})),{},{keymap:function(){return{left:this.navigateViaKey,right:this.navigateViaKey}}}),created:function(){var e=this;this.setPageTitle(this.lang("calendar")),this.SET_LOADING(!0),this.checkForDate(),(0,K.A)("".concat(config.api,"/calendar")).then((function(t){e.items=t.data,e.SET_LOADING(!1),e.removeItemsOutsideOfMonth()}))},watch:{$route:function(){this.checkForDate(),this.removeItemsOutsideOfMonth()}},methods:ae(ae(ae({},(0,Z.PY)(["SET_LOADING"])),(0,Z.i0)(["setPageTitle"])),{},{removeItemsOutsideOfMonth:function(){var e=J()(this.showDate),t=e.startOf("month"),a=e.endOf("month");this.filteredItems=this.items.filter((function(e){return J()(e.startDate).isBetween(t,a)}))},navigateViaKey:function(e){var t=e.keyCode,a=J()(this.showDate);switch(t){case 37:return this.setShowDate(a.subtract(1,"month"));case 39:return this.setShowDate(a.add(1,"month"))}},checkForDate:function(){var e=this.$route.query.date;this.showDate=e?J()(e).toDate():new Date},setShowDate:function(e){e=J()(e).format("YYYY-MM-DD"),this.showDate=e,this.$router.push({name:"calendar",query:{date:e}}),this.removeItemsOutsideOfMonth()},navigateToItem:function(e){var t=e.originalItem,a=t.tmdb_id,r=t.type;this.$router.push("/".concat(r,"/").concat(a))}}),components:{CalendarView:H,CalendarViewHeader:G}};const ne=(0,a(6262).A)(re,[["render",function(e,t,a,u,d,c){var h=(0,r.g2)("CalendarViewHeader"),f=(0,r.g2)("CalendarView"),g=(0,r.gN)("hotkey");return(0,r.bo)(((0,r.uX)(),(0,r.CE)("main",i,[(0,r.bF)(n.eB,{mode:"out-in",name:"fade"},{default:(0,r.k6)((function(){return[e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(f,{"show-date":d.showDate,items:d.filteredItems,onClickItem:c.navigateToItem,"starting-day-of-week":1,class:"theme-default"},{default:(0,r.k6)((function(){return[(0,r.bF)(h,{title:"You can also use the arrow keys",slot:"header","slot-scope":"t","header-props":e.t.headerProps,onInput:c.setShowDate},null,8,["header-props","onInput"])]})),_:1},8,["show-date","items","onClickItem"])]))]})),_:1}),e.loading?((0,r.uX)(),(0,r.CE)("span",o,l)):(0,r.Q3)("",!0)])),[[g,c.keymap]])}]])}}]);