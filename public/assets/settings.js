"use strict";(self.webpackChunkFlox=self.webpackChunkFlox||[]).push([[472],{5613:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ne});var r=n(641),i=n(33),s={class:"wrap-content"},a={class:"navigation-tab no-select"},o={key:0,class:"loader fullsize-loader"};var c=n(4980),u=n(7536),l=n(3751),p={key:0,class:"settings-box"},d={key:0,class:"login-error"},f=["placeholder","minlength"],g={key:0,class:"userdata-changed"},h={key:1,class:"userdata-changed userdata-changed--error"},b=["value"];var v=n(834),O=n(2028),m=n(7334),y=n.n(m);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const A={mixins:[O.A],props:["user"],created:function(){this.clearSuccessMessage=y()(this.clearSuccessMessage,2e3)},data:function(){return{config:window.config,error:!1,password:"",success:!1}},computed:w(w({},(0,v.aH)({loading:function(e){return e.loading}})),{},{passwordMinLength:function(){return this.user.password_min_length||4}}),methods:{editUser:function(){var e=this,t=this.password;u.A.patch("".concat(config.api,"/userdata"),{password:t}).then((function(){e.success=!0,e.error=!1,e.clearSuccessMessage()})).catch((function(t){e.error=t.response.data.message}))},clearSuccessMessage:function(){this.success=!1}}};var _=n(6262);const j=(0,_.A)(A,[["render",function(e,t,n,s,a,o){return e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",p,["demo"===a.config.env?((0,r.uX)(),(0,r.CE)("div",d,t[2]||(t[2]=[(0,r.Lk)("span",null,"Data cannot be changed in the demo",-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("form",{class:"settings-form",onSubmit:t[1]||(t[1]=(0,l.D$)((function(e){return o.editUser()}),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:e.lang("password"),"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.password=e}),minlength:o.passwordMinLength,autocomplete:"off",required:""},null,8,f),[[l.Jo,a.password]]),a.success?((0,r.uX)(),(0,r.CE)("div",g,(0,i.v_)(e.lang("success message")),1)):(0,r.Q3)("",!0),a.error?((0,r.uX)(),(0,r.CE)("div",h,(0,i.v_)(a.error),1)):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"submit",value:e.lang("save button")},null,8,b)],32)]))}]]);var L={key:0,class:"settings-box no-select"},P={key:0,class:"login-error"},D={class:"setting-box"},E={class:"setting-box"},S={class:"setting-box"},C={class:"setting-box"},T={class:"setting-box select-box"},x={for:"ratings"},X={value:"always"},G={value:"hover"},Q={value:"never"};var V=["id","checked"],I=["for"];const U={name:"Checkbox",props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"]},N=(0,_.A)(U,[["render",function(e,t,n,s,a,o){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("input",{id:n.id,type:"checkbox",checked:n.modelValue,onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.checked)})},null,40,V),(0,r.Lk)("label",{for:n.id},(0,i.v_)(n.label),9,I)],64)}]]);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const R={mixins:[O.A],props:["user"],components:{Checkbox:N},created:function(){this.setOptionsFromUser(this.user)},data:function(){return{config:window.config,genre:null,date:null,spoiler:null,watchlist:null,ratings:null}},computed:M({},(0,v.aH)({loading:function(e){return e.loading}})),methods:M(M({},(0,v.PY)(["SET_LOADING"])),{},{setOptionsFromUser:function(e){this.genre=e.genre,this.date=e.date,this.spoiler=e.spoiler,this.watchlist=e.watchlist,this.ratings=e.ratings},updateOptions:function(){var e=this;this.SET_LOADING(!0);var t=this.date,n=this.genre,r=this.ratings,i=this.spoiler,s=this.watchlist;u.A.patch("".concat(config.api,"/settings"),{date:t,genre:n,spoiler:i,watchlist:s,ratings:r}).then((function(t){e.SET_LOADING(!1)}),(function(e){alert(e.message)}))}})},W=(0,_.A)(R,[["render",function(e,t,n,s,a,o){var c=(0,r.g2)("Checkbox");return e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",L,["demo"===a.config.env?((0,r.uX)(),(0,r.CE)("div",P,t[10]||(t[10]=[(0,r.Lk)("span",null,"Data cannot be changed in the demo",-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("div",D,[(0,r.bF)(c,{modelValue:a.genre,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return a.genre=e}),t[1]||(t[1]=function(e){a.genre=e,o.updateOptions()})],id:"settings-options-genre",label:e.lang("display genre")},null,8,["modelValue","label"])]),(0,r.Lk)("div",E,[(0,r.bF)(c,{modelValue:a.date,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return a.date=e}),t[3]||(t[3]=function(e){a.date=e,o.updateOptions()})],id:"settings-options-date",label:e.lang("display date")},null,8,["modelValue","label"])]),(0,r.Lk)("div",S,[(0,r.bF)(c,{modelValue:a.spoiler,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return a.spoiler=e}),t[5]||(t[5]=function(e){a.spoiler=e,o.updateOptions()})],id:"settings-options-spoiler",label:e.lang("spoiler")},null,8,["modelValue","label"])]),(0,r.Lk)("div",C,[(0,r.bF)(c,{modelValue:a.watchlist,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return a.watchlist=e}),t[7]||(t[7]=function(e){a.watchlist=e,o.updateOptions()})],id:"settings-options-watchlist",label:e.lang("show watchlist")},null,8,["modelValue","label"])]),(0,r.Lk)("div",T,[(0,r.Lk)("label",x,(0,i.v_)(e.lang("show own ratings")),1),(0,r.bo)((0,r.Lk)("select",{id:"ratings","onUpdate:modelValue":t[8]||(t[8]=function(e){return a.ratings=e}),onChange:t[9]||(t[9]=function(){return o.updateOptions&&o.updateOptions.apply(o,arguments)})},[(0,r.Lk)("option",X,(0,i.v_)(e.lang("always")),1),(0,r.Lk)("option",G,(0,i.v_)(e.lang("on hover")),1),(0,r.Lk)("option",Q,(0,i.v_)(e.lang("never")),1)],544),[[l.u1,a.ratings]])])]))}]]);var H={key:0,class:"settings-box"},Y={key:0,class:"login-error"},K=["href"],q={class:"import-info"},$={key:0,class:"userdata-changed"},B=["value"];function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Z={mixins:[O.A],data:function(){return{config:window.config,uploadSuccess:!1,uploadedFile:null}},computed:z(z({},(0,v.aH)({loading:function(e){return e.loading}})),{},{exportLink:function(){return config.api+"/export"}}),methods:z(z({},(0,v.PY)(["SET_LOADING"])),{},{upload:function(e){var t=e.target.files||e.dataTransfer.files;this.uploadedFile=new FormData,this.uploadedFile.append("import",t[0])},importMovies:function(){var e=this;this.uploadedFile&&(window.confirm(this.lang("import warn"))&&(this.SET_LOADING(!0),u.A.post("".concat(config.api,"/import"),this.uploadedFile).then((function(){e.SET_LOADING(!1),e.uploadSuccess=!0}),(function(t){e.SET_LOADING(!1),alert("Error: "+t.response.data)}))))}})},ee=(0,_.A)(Z,[["render",function(e,t,n,s,a,o){return e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",H,["demo"===a.config.env?((0,r.uX)(),(0,r.CE)("div",Y,t[2]||(t[2]=[(0,r.Lk)("span",null,"Data cannot be changed in the demo",-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("a",{href:o.exportLink,class:"setting-btn"},(0,i.v_)(e.lang("export button")),9,K),(0,r.Lk)("form",{class:"settings-form",onSubmit:t[1]||(t[1]=(0,l.D$)((function(e){return o.importMovies()}),["prevent"]))},[(0,r.Lk)("span",q,(0,i.v_)(e.lang("or divider")),1),(0,r.Lk)("input",{type:"file",onChange:t[0]||(t[0]=function(){return o.upload&&o.upload.apply(o,arguments)}),class:"file-btn",required:""},null,32),a.uploadSuccess?((0,r.uX)(),(0,r.CE)("div",$,(0,i.v_)(e.lang("success import")),1)):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"submit",value:e.lang("import button")},null,8,B)],32)]))}]]);var te={key:0,class:"settings-box"},ne={class:"version-wrap"},re={class:"current-version"},ie={key:0,class:"update-check"},se={key:1,class:"update-check"},ae={href:"https://github.com/devfake/flox/releases",target:"_blank",class:"new-update"},oe={class:"update-check"};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const le={mixins:[O.A],created:function(){this.checkUpdate(),this.fetchVersion()},data:function(){return{version:"",isUpdate:null}},computed:ue(ue({},(0,v.aH)({loading:function(e){return e.loading}})),{},{updateMessage:function(){return!1===this.isUpdate?this.lang("no update"):this.lang("checking update")}}),methods:ue(ue({},(0,v.PY)(["SET_LOADING"])),{},{fetchFiles:function(){var e=this;this.SET_LOADING(!0),u.A.post("".concat(config.api,"/fetch-files")).then((function(){e.SET_LOADING(!1)})).catch((function(t){e.SET_LOADING(!1),alert(t.response.data)}))},checkUpdate:function(){var e=this;(0,u.A)("".concat(config.api,"/check-update")).then((function(t){e.isUpdate=t.data}))},fetchVersion:function(){var e=this;this.SET_LOADING(!0),(0,u.A)("".concat(config.api,"/version")).then((function(t){e.SET_LOADING(!1),e.version=t.data.version}))}})},pe=(0,_.A)(le,[["render",function(e,t,n,s,a,o){return e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",te,[(0,r.Lk)("div",ne,[(0,r.Lk)("span",re,[(0,r.eW)((0,i.v_)(e.lang("current version"))+" ",1),(0,r.Lk)("span",null,(0,i.v_)(a.version),1)]),a.isUpdate?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("span",ie,(0,i.v_)(o.updateMessage),1)),a.isUpdate?((0,r.uX)(),(0,r.CE)("span",se,[(0,r.Lk)("a",ae,(0,i.v_)(e.lang("new update")),1)])):(0,r.Q3)("",!0),(0,r.Lk)("span",oe,[(0,r.eW)((0,i.v_)(e.lang("feedback"))+" ",1),t[0]||(t[0]=(0,r.Lk)("a",{href:"https://github.com/devfake/flox/issues",target:"_blank"},"GitHub",-1))])])]))}]]);var de={key:0,class:"settings-box element-ui-checkbox no-select"},fe={key:0,class:"login-error"},ge={class:"setting-box"},he={class:"misc-btn-wrap"};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Oe={mixins:[O.A],props:["initial-refresh"],data:function(){return{config:window.config,refresh:this.initialRefresh||!1,refreshAllClicked:!1,showRefreshAllMessage:!1}},computed:ve({},(0,v.aH)({loading:function(e){return e.loading}})),methods:ve(ve({},(0,v.PY)(["SET_LOADING"])),{},{updateRefresh:function(){var e=this;this.SET_LOADING(!0),u.A.patch("".concat(config.api,"/settings/refresh"),{refresh:this.refresh}).then((function(){e.SET_LOADING(!1)}),(function(e){alert(e.message)}))},refreshAll:function(){var e=this;this.refreshAllClicked=!0,u.A.patch("".concat(config.api,"/refresh-all")).then((function(){e.showRefreshAllMessage=!0})).catch((function(t){e.refreshAllClicked=!1,alert(t.response.data)}))}})},me=(0,_.A)(Oe,[["render",function(e,t,n,s,a,o){var c=(0,r.g2)("el-checkbox");return e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",de,["demo"===a.config.env?((0,r.uX)(),(0,r.CE)("div",fe,t[2]||(t[2]=[(0,r.Lk)("span",null,"Data cannot be changed in the demo",-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("div",ge,[(0,r.bF)(c,{modelValue:a.refresh,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.refresh=e}),onChange:o.updateRefresh},{default:(0,r.k6)((function(){return[(0,r.eW)((0,i.v_)(e.lang("refresh automatically")),1)]})),_:1},8,["modelValue","onChange"])]),(0,r.Lk)("div",he,[(0,r.bo)((0,r.Lk)("button",{onClick:t[1]||(t[1]=function(e){return o.refreshAll()}),class:"setting-btn"},(0,i.v_)(e.lang("refresh all infos")),513),[[l.aG,!a.refreshAllClicked]]),(0,r.bo)((0,r.Lk)("span",{class:"update-check"},(0,i.v_)(e.lang("refresh all triggered")),513),[[l.aG,a.showRefreshAllMessage]])])]))}]]);var ye={key:0,class:"settings-box element-ui-checkbox no-select"},ke={key:0,class:"login-error"},we={class:"update-check"},Ae={key:0,class:"userdata-changed"},_e=["value"],je={class:"setting-box"},Le={class:"setting-box"};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ee={mixins:[O.A],props:["user"],created:function(){this.setOptionsFromUser(this.user),this.clearSuccessMessage=y()(this.clearSuccessMessage,2e3)},data:function(){return{config:window.config,reminders_send_to:"",success:!1,daily:!1,weekly:!1}},computed:De({},(0,v.aH)({loading:function(e){return e.loading}})),methods:De(De({},(0,v.PY)(["SET_LOADING"])),{},{setOptionsFromUser:function(e){this.reminders_send_to=e.reminders_send_to,this.daily=e.daily,this.weekly=e.weekly},editSetting:function(){var e=this;u.A.patch("".concat(config.api,"/settings/reminders-send-to"),{reminders_send_to:this.reminders_send_to}).then((function(){e.success=!0,e.clearSuccessMessage()}))},updateReminders:function(){var e=this;this.SET_LOADING(!0);var t=this.daily,n=this.weekly;u.A.patch("".concat(config.api,"/settings/reminder-options"),{daily:t,weekly:n}).then((function(){e.SET_LOADING(!1)}),(function(e){alert(e.message)}))},clearSuccessMessage:function(){this.success=!1}})},Se=(0,_.A)(Ee,[["render",function(e,t,n,s,a,o){var c=(0,r.g2)("el-checkbox");return e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",ye,["demo"===a.config.env?((0,r.uX)(),(0,r.CE)("div",ke,t[4]||(t[4]=[(0,r.Lk)("span",null,"Data cannot be changed in the demo",-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("form",{class:"settings-form",onSubmit:t[1]||(t[1]=(0,l.D$)((function(e){return o.editSetting()}),["prevent"]))},[(0,r.Lk)("span",we,(0,i.v_)(e.lang("reminders send to")),1),(0,r.bo)((0,r.Lk)("input",{type:"email",placeholder:"E-Mail","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.reminders_send_to=e})},null,512),[[l.Jo,a.reminders_send_to]]),a.success?((0,r.uX)(),(0,r.CE)("div",Ae,(0,i.v_)(e.lang("success message")),1)):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"submit",value:e.lang("save button")},null,8,_e)],32),(0,r.Lk)("div",je,[(0,r.bF)(c,{modelValue:a.daily,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.daily=e}),onChange:o.updateReminders},{default:(0,r.k6)((function(){return[(0,r.eW)((0,i.v_)(e.lang("daily reminder")),1)]})),_:1},8,["modelValue","onChange"])]),(0,r.Lk)("div",Le,[(0,r.bF)(c,{modelValue:a.weekly,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.weekly=e}),onChange:o.updateReminders},{default:(0,r.k6)((function(){return[(0,r.eW)((0,i.v_)(e.lang("weekly reminder")),1)]})),_:1},8,["modelValue","onChange"])])]))}]]);var Ce={key:0,class:"settings-box element-ui-checkbox no-select"},Te={key:0,class:"login-error"};function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ge={mixins:[O.A],created:function(){this.fetchApiKey()},data:function(){return{config:window.config,api_key:"",success:!1}},computed:Xe({},(0,v.aH)({loading:function(e){return e.loading}})),methods:Xe(Xe({},(0,v.PY)(["SET_LOADING"])),{},{fetchApiKey:function(){var e=this;this.SET_LOADING(!0),(0,u.A)("".concat(config.api,"/api-key")).then((function(t){e.api_key=t.data,e.SET_LOADING(!1)}))},generateApiKey:function(){var e=this;this.SET_LOADING(!0),u.A.patch("".concat(config.api,"/settings/api-key"),{}).then((function(t){e.api_key=t.data,e.SET_LOADING(!1)}),(function(e){alert(e.message)}))}})},Qe=(0,_.A)(Ge,[["render",function(e,t,n,i,s,a){return e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ce,["demo"===s.config.env?((0,r.uX)(),(0,r.CE)("div",Te,t[2]||(t[2]=[(0,r.Lk)("span",null,"Data cannot be changed in the demo",-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("form",{class:"settings-form",onSubmit:t[1]||(t[1]=(0,l.D$)((function(e){return a.generateApiKey()}),["prevent"]))},[t[3]||(t[3]=(0,r.Lk)("span",{class:"update-check"},"API-Key",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.api_key=e}),readonly:""},null,512),[[l.Jo,s.api_key]]),t[4]||(t[4]=(0,r.Lk)("input",{type:"submit",value:"Generate new key"},null,-1))],32)]))}]]);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ue={mixins:[O.A],created:function(){this.SET_LOADING(!0),this.setPageTitle(this.lang("settings")),this.fetchUserData()},components:{User:j,Options:W,Backup:ee,Misc:pe,Refresh:me,Reminders:Se,Api:Qe},data:function(){return{activeTab:"",user:{}}},computed:Ie({},(0,v.aH)({loading:function(e){return e.loading}})),methods:Ie(Ie(Ie({},(0,v.i0)(["setPageTitle"])),(0,v.PY)(["SET_LOADING"])),{},{changeActiveTab:function(e){this.activeTab=e},fetchUserData:function(){var e=this;(0,u.A)("".concat(config.api,"/settings")).then((function(t){e.user=t.data,e.activeTab=!0===e.user.is_admin?"misc":"options",e.SET_LOADING(!1)}))}})},Ne=(0,_.A)(Ue,[["render",function(e,t,n,c,u,l){var p=(0,r.g2)("User"),d=(0,r.g2)("Options"),f=(0,r.g2)("Backup"),g=(0,r.g2)("Misc"),h=(0,r.g2)("Refresh"),b=(0,r.g2)("Reminders"),v=(0,r.g2)("Api");return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",s,[(0,r.Lk)("div",a,[u.user.is_admin?((0,r.uX)(),(0,r.CE)("span",{key:0,class:(0,i.C4)({active:"misc"==u.activeTab}),onClick:t[0]||(t[0]=function(e){return l.changeActiveTab("misc")})},(0,i.v_)(e.lang("tab misc")),3)):(0,r.Q3)("",!0),(0,r.Lk)("span",{class:(0,i.C4)({active:"options"==u.activeTab}),onClick:t[1]||(t[1]=function(e){return l.changeActiveTab("options")})},(0,i.v_)(e.lang("tab options")),3),(0,r.Lk)("span",{class:(0,i.C4)({active:"user"==u.activeTab}),onClick:t[2]||(t[2]=function(e){return l.changeActiveTab("user")})},(0,i.v_)(e.lang("tab user")),3),u.user.is_admin?((0,r.uX)(),(0,r.CE)("span",{key:1,class:(0,i.C4)({active:"backup"==u.activeTab}),onClick:t[3]||(t[3]=function(e){return l.changeActiveTab("backup")})},(0,i.v_)(e.lang("tab backup")),3)):(0,r.Q3)("",!0),u.user.is_admin?((0,r.uX)(),(0,r.CE)("span",{key:2,class:(0,i.C4)({active:"refresh"==u.activeTab}),onClick:t[4]||(t[4]=function(e){return l.changeActiveTab("refresh")})},(0,i.v_)(e.lang("refresh")),3)):(0,r.Q3)("",!0),u.user.is_admin?((0,r.uX)(),(0,r.CE)("span",{key:3,class:(0,i.C4)({active:"reminders"==u.activeTab}),onClick:t[5]||(t[5]=function(e){return l.changeActiveTab("reminders")})},(0,i.v_)(e.lang("reminders")),3)):(0,r.Q3)("",!0),(0,r.Lk)("span",{class:(0,i.C4)({active:"api_key"==u.activeTab}),onClick:t[6]||(t[6]=function(e){return l.changeActiveTab("api_key")})},"API",2)]),e.loading?((0,r.uX)(),(0,r.CE)("span",o,t[7]||(t[7]=[(0,r.Lk)("i",null,null,-1)]))):(0,r.Q3)("",!0),"user"==u.activeTab?((0,r.uX)(),(0,r.Wv)(p,{key:1,user:u.user},null,8,["user"])):(0,r.Q3)("",!0),"options"==u.activeTab?((0,r.uX)(),(0,r.Wv)(d,{key:2,user:u.user},null,8,["user"])):(0,r.Q3)("",!0),"backup"==u.activeTab?((0,r.uX)(),(0,r.Wv)(f,{key:3})):(0,r.Q3)("",!0),"misc"==u.activeTab?((0,r.uX)(),(0,r.Wv)(g,{key:4})):(0,r.Q3)("",!0),"refresh"==u.activeTab?((0,r.uX)(),(0,r.Wv)(h,{key:5,"initial-refresh":u.user.refresh},null,8,["initial-refresh"])):(0,r.Q3)("",!0),"reminders"==u.activeTab?((0,r.uX)(),(0,r.Wv)(b,{key:6,user:u.user},null,8,["user"])):(0,r.Q3)("",!0),"api_key"==u.activeTab?((0,r.uX)(),(0,r.Wv)(v,{key:7})):(0,r.Q3)("",!0)])])}]])}}]);